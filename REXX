local showText = true -- Đặt thành false nếu bạn không muốn thấy văn bản esp của khoáng sản

if game.PlaceId == 8549934015 then
    allowedOres = {
        Magma = {Color = Color3.new(1, 0, 0)}, -- Magma màu đỏ
        Stone = {Color = Color3.new(0, 0, 1)}, -- Stone màu xanh
        Copper = {Color = Color3.new(1, 0.5, 0)}, -- Copper màu cam
        -- Thêm các khoáng sản khác với màu tương ứng
    }
else
    if game.PlaceId == 14550379349 then
        allowedOres = {
            Sodium = {Color = Color3.new(1, 1, 0)}, -- Sodium màu vàng
            Eboxylite = {Color = Color3.new(0, 1, 0)}, -- Eboxylite màu lục
            Plerivium = {Color = Color3.new(1, 0, 1)}, -- Plerivium màu hồng
            -- Thêm các khoáng sản khác với màu tương ứng
        }
    end
end

local folder = game:GetService("Workspace").Mine
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function isValidName(name)
    return allowedOres[name] ~= nil
end

local function createESP(primary)
    local oreInfo = allowedOres[primary.Name]
    
    if oreInfo then
        local box = Instance.new("BoxHandleAdornment", primary)
        box.Adornee = primary
        box.AlwaysOnTop = true
        box.ZIndex = 5
        box.Size = primary.Size + Vector3.new(0.1, 0.1, 0.1)
        box.Transparency = 0.5
        box.Color = oreInfo.Color or Color3.new(1, 0, 0.3) -- Màu mặc định là đỏ hồng

        local billboard = Instance.new("BillboardGui", box)
        billboard.AlwaysOnTop = true
        billboard.Size = UDim2.new(0, 200, 0, 60)
        billboard.StudsOffset = Vector3.new(0, 3, 0)

        local nameLabel = Instance.new("TextLabel", billboard)
        nameLabel.BackgroundTransparency = 1
        nameLabel.Size = UDim2.new(1, 0, 0.333, 0)
        nameLabel.Text = primary.Name
        nameLabel.Font = Enum.Font.GothamSemibold
        nameLabel.TextColor3 = Color3.new(1, 1, 1)
        nameLabel.TextScaled = true

        local distanceLabel = Instance.new("TextLabel", billboard)
        distanceLabel.BackgroundTransparency = 1
        distanceLabel.Size = UDim2.new(1, 0, 0.333, 0)
        distanceLabel.Position = UDim2.new(0, 0, 0.333, 0)
        distanceLabel.Text = "Distance: " .. math.floor((LocalPlayer.Character.HumanoidRootPart.Position - primary.Position).Magnitude) .. " studs"
        distanceLabel.Font = Enum.Font.GothamSemibold
        distanceLabel.TextColor3 = Color3.new(1, 1, 1)
        distanceLabel.TextScaled = true

        if not showText then
            nameLabel.Visible = false -- Ẩn tên nếu showText là false
            distanceLabel.Position = UDim2.new(0, 0, 0.5, 0)
        end
    else
        primary.Transparency = 0.5
    end
end

local function isOreAllowed(block)
    if block:IsA("BasePart") and isValidName(block.Name) then
        createESP(block)
    else
        block.Transparency = 0.5
    end
end

for _, part in pairs(folder:GetChildren()) do
    isOreAllowed(part)
end

folder.ChildAdded:Connect(function(child)
    isOreAllowed(child)
end)
